<!DOCTYPE html><html>  <head>    <meta http-equiv="content-type" content="text/html; charset=UTF-8">    <title>Troubleshooting IIS Deployment</title>    <style>
        body {
            font-family: "Arial", "Helvetica", "sans-serif";
        }
        
        #week05 {
            background-color: #f8ff2e;
        }
        
        code {
            display: block;
            font-size: larger;
            background-color: lightgoldenrodyellow;
            max-height: 400px;
            width: 90%;
            overflow: scroll;
        }
        
        .exercise {
            background-color: #c6ffe2;
        }
    </style> <base target="_blank">  </head>  <body> <b>  <a href="http://lcc-cit.github.io/CS296N-CourseMaterials/index.html" target="_blank">CS296N
        Web Development 2: ASP.NET</a> &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; </b> <br>    <header>      <h1> <i> Troubleshooting<b> Deployment to IIS</b> </i> </h1>      <b>Topics by week </b>      <table style="width: 807px; height: 127px;" border="1">        <tbody>          <tr>            <td id="week01">1. Intro to course and Identity<br>            </td>            <td id="week06">6. Midterm, Load Testing and Performance<br>            </td>          </tr>          <tr>            <td id="week02">2. Authentication and Authorization</td>            <td>7. Creating a Web Service<br>            </td>          </tr>          <tr>            <td id="week03">3. Claims and Third Party Authentication<br>            </td>            <td id="week08" style="width: 395.333px;">8. Consuming a Web              Service, Async / Await<br>            </td>          </tr>          <tr>            <td id="week04" style="height: 27px">4. Web Security<br>            </td>            <td id="week09" style="height: 27px">9. Docker Containers<br>            </td>          </tr>          <tr>            <td id="week05">5. Publishing to a production server</td>            <td id="week10">10.&nbsp; Microservices<br>            </td>          </tr>        </tbody>      </table>      <br>    </header>    <section>      <article>        <h2>Troubleshooting Deployment</h2>        <h3> Deployment to a Shared IIS Host (Smarter ASP.NET) </h3>        The first time I published, I got this error page:        <p><strong>An error occurred while starting the application. </strong>          <br>          .NET Core 4.6.27110.04 X64 v4.0.0.0 | Microsoft.AspNetCore.Hosting          version 2.2.0-rtm-35687 | Microsoft Windows 6.3.9600 | <a href="http://go.microsoft.com/fwlink/?LinkId=517394">NNeed
            help? </a> </p>        <p>I changed the target framework to 2.1, and tried again.<br>          I got the same message, except showing a diffrent version of          AspNetCore: &nbsp;<em>Microsoft.AspNetCore.Hosting version            2.1.1-rtm-30846 </em></p>        <p>I chenaged the target framweork to 2.1.3 (which is supported on the          hosting service. See: <a href="https://www.smarterasp.net/support/kb/a1986/supported-versions-of-_net-core.aspx?KBSearchID=525458">            Supported Versions of Dot Net Core</a>) and tried again.</p>        <p>I got build errors:</p>        <ul>          <li>The type or namespace name 'ValueConversion' does not exist in the            namespace 'Microsoft.EntityFrameworkCore.Storage'            20190125020101_NewStart.Designer.cs</li>          <li>And the same error again for ApplicationDbContextModelSnapshot.cs          </li>        </ul>        <p>Since these were unused using statements, I simply removed them.<br>          Now the solution builds with this error:</p>        <ul>          <li>Assets file BookInfo\obj\project.assets.json doesn't have a target            for '.NETCoreApp,Version=v2.1'</li>        </ul>        <p>To resolve this, I used the NuGet package manager to roll back the          version of Microsoft.AspNetCore.All to 2.1.2<br>          It builds fine, but now I get a publish error:</p>        <p>Assets file          'C:\Users\Brian\source\repos\CS296N-BookInfo-Core-2\BookInfo\obj\project.assets.json'
          doesn't have a target for '.NETCoreApp,Version=v2.1'.</p>        <p>Check to see which version of the SDK goes with which runtime          version: .<a href="https://dotnet.microsoft.com/download/dotnet-core/2.1">NET
            Core 2.1 Downloads</a><br>          For example, SDK version 2.1.400 goes with runtime version 2.1.2</p>        <p>In the console, I ran dotnet --info and got output that included the          following:<br>          .NET Core SDKs installed: <br>          2.1.2 [C:\Program Files\dotnet\sdk] <br>          2.1.4 [C:\Program Files\dotnet\sdk] <br>          2.1.100 [C:\Program Files\dotnet\sdk] <br>          2.1.104 [C:\Program Files\dotnet\sdk] <br>          2.1.202 [C:\Program Files\dotnet\sdk] <br>          2.1.400 [C:\Program Files\dotnet\sdk] <br>          2.1.402 [C:\Program Files\dotnet\sdk] <br>          2.1.502 [C:\Program Files\dotnet\sdk] <br>          2.1.503 [C:\Program Files\dotnet\sdk] <br>          2.2.101 [C:\Program Files\dotnet\sdk] <br>          2.2.102 [C:\Program Files\dotnet\sdk] </p>        NET Core runtimes installed: <br>        Microsoft.AspNetCore.All 2.1.2 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.All 2.1.4 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.All 2.1.6 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.All 2.1.7 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.All 2.2.0 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.All 2.2.1 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.All] <br>        Microsoft.AspNetCore.App 2.1.2 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.AspNetCore.App 2.1.4 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.AspNetCore.App 2.1.6 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.AspNetCore.App 2.1.7 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.AspNetCore.App 2.2.0 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.AspNetCore.App 2.2.1 [C:\Program        Files\dotnet\shared\Microsoft.AspNetCore.App] <br>        Microsoft.NETCore.App 2.0.3 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.0.5 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.0.6 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.0.9 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.1.2 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.1.4 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.1.6 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.1.7 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.2.0 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] <br>        Microsoft.NETCore.App 2.2.1 [C:\Program        Files\dotnet\shared\Microsoft.NETCore.App] </article>      <hr>      <article id="topic7">        <h2>References</h2>        <ul>          <li> <a href="https://www.smarterasp.net/support/kb/a1910/how-to-publish-asp_net-core-web-application-via-visual-studio-2017.aspx"              target="_blank">How
              to publish ASP.NET Core web application via Visual Studio 2017</a>            - Smarter ASP.NET Knowledge base article</li>          <li> <a href="https://www.smarterasp.net/support/kb/a1775/asp_net-core-hosting.aspx?KBSearchID=525417">ASP.NET
              Core Hosting</a> - Smarter ASP.NET Knowledge base article</li>			<li> Latham, Luke. (2018). "<a href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/troubleshoot?view=aspnetcore-2.2#aspnet-core-module-stdout-log" target="_blank">Troubleshoot 			ASP.NET Core on IIS</a>", in			<a href="https://docs.microsoft.com/en-us/aspnet/?view=aspnetcore-2.2#pivot=core" target="_blank">			ASP.NET Core Documentation</a>. Microsoft</li>          <li><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-2.2#set-the-environment"              target="_blank">Use
              Multiple Environments in ASP.NET Core</a></li>          <li><a href="https://docs.microsoft.com/en-us/dotnet/core/deploying/#framework-dependent-deployments-fdd"              target="_blank"><span                style="color: #0000ee;">.NET
                Core Application Deployment</span></a></li>          <li><span style=" color: #0000ee;"><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/servers/?view=aspnetcore-2.1&amp;tabs=aspnetcore2x"                target="_blank">Web
                Server Implementations in .NET Core</a></span></li>          <li><a href="https://andrewlock.net/configuring-urls-with-kestrel-iis-and-iis-express-with-asp-net-core/"              target="_blank">How              to configure urls for Kestrel, WebListener and IIS express in              ASP.NET Core</a> - Andrew Lock</li>        </ul>        <p>&nbsp;</p>      </article>      <hr></section>    <footer> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">        <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png">      </a> <br>      <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">ASP.NET        Core MVC Lecture Notes</span> by <a xmlns:cc="http://creativecommons.org/ns#"        href="https://birdsbits.blog"        property="cc:attributionName"        rel="cc:attributionURL">Brian
        Bird</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
        Commons Attribution-ShareAlike 4.0 International License</a>. </footer>    <hr>  </body></html>